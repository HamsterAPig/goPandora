<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>列出所有用户</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/mhDoLbDldZc3qpsJHpLogda//BVZbgYuw6kof4u2FrCedxOtgRZDTHgHUhOCVim"
            crossorigin="anonymous"></script>
    <script src=" https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js "></script>

</head>
<body>
<ul class="list-group">
    {[ range $index, $value := .userList ]}
    <li class="list-group-item">
        <div class="row g-3">
            <div class="col-sm-8">
                <div class="d-grid gap-1">
                <a href="{[ index $value 0 ]}" class="btn btn-light">{[ index $value 0 ]}</a>
                </div>
            </div>
            <div class="col-sm">
                {[ if ne (index $value 1) ""]}
                <a class="btn btn-primary" href="{[ index $value 0 ]}" role="button">{[ index $value 1 ]}</a>
                {[ end ]}
            </div>
            <div class="col-sm">
                <button onclick="copyToClipboard('{[ index $value 0 ]}')" class="btn btn-success" >复制</button>
            </div>
        </div>
    </li>
    {[ end ]}
</ul>

<script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text)
            .then(() => {
                console.log("Text copied to clipboard");
            })
            .catch((error) => {
                console.error("Failed to copy text: ", error);
            });
    }
</script>
</body>
</html>